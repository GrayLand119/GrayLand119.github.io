<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>TensorFlow学习笔记(10) - 队列与多线程及输入数据框架 | GrayLand's blogs</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script><!-- hexo-inject:begin --><!-- hexo-inject:end -->var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = 'https://hm.baidu.com/hm.js?' + '23b02fe43688a2403eb3b2033320103d';
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();</script><!-- hexo-inject:begin --><!-- hexo-inject:end --></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">TensorFlow学习笔记(10) - 队列与多线程及输入数据框架</h1><a id="logo" href="/.">GrayLand's blogs</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">TensorFlow学习笔记(10) - 队列与多线程及输入数据框架</h1><div class="post-meta">Sep 12, 2018</div><div class="post-content"><!--# TensorFlow学习笔记(10) - 队列与多线程及输入数据框架-->
<!-- hexo-inject:begin --><!-- hexo-inject:end --><h2 id="队列"><a class="markdownIt-Anchor" href="#队列"></a> 队列</h2>
<p>在 Tensorflow 中,队列和变量类似,都是计算图上的节点.<br>
对于变量节点, 其操作为赋值操作, 修改其取值.<br>
对于队列节点, 其操作为修改操作, 修改其状态. 主要方法有:</p>
<ul>
<li>Enqueue</li>
<li>EnqueueMany</li>
<li>Dequeue</li>
</ul>
<p>TensorFlow 提供的队列有两种, <code>FIFOQueue</code> 和 <code>RandomShuffleQueue</code>.<br>
<code>FIFOQueue</code>创建普通FIFO队列, <code>RandomShuffleQueue</code>创建一个随机队列, 每次出队都是随机的选择.</p>
<p>以下是一个出队/入队的程序:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建容量为2的队列, 类型为 int32</span></span><br><span class="line">q = tf.FIFOQueue(<span class="number">2</span>, <span class="string">'int32'</span>)</span><br><span class="line"><span class="comment"># 入队多个 &gt; 1, 100</span></span><br><span class="line">init = q.enqueue_many(([<span class="number">1</span>, <span class="number">100</span>],))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 出队 &gt; 1</span></span><br><span class="line">x = q.dequeue()</span><br><span class="line"><span class="comment"># y = 1 + 1 = 2</span></span><br><span class="line">y = x + <span class="number">1</span></span><br><span class="line"><span class="comment"># 重新入队 &gt; 100, 1</span></span><br><span class="line">q_inc = q.enqueue([y])</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    init.run()</span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> range(<span class="number">5</span>):</span><br><span class="line">        print(sess.run([x, q_inc]))</span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">输出:</span></span><br><span class="line"><span class="string">[1, None]</span></span><br><span class="line"><span class="string">[100, None]</span></span><br><span class="line"><span class="string">[2, None]</span></span><br><span class="line"><span class="string">[101, None]</span></span><br><span class="line"><span class="string">[3, None]</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure>
<h2 id="多线程"><a class="markdownIt-Anchor" href="#多线程"></a> 多线程</h2>
<p>TensorFlow 提供<code>tf.Coordinator</code> 和 <code>tf.QueueRunner</code> 两个类来完成多线程协同的功能.</p>
<p><code>tf.Coordinator</code> 提供以下三个函数:</p>
<ul>
<li><code>should_stop</code>:启动线程需要一直查询此函数, 返回为 True 时, 当前线程需要退出</li>
<li><code>request_stop</code>: 每个线程都可以通过此函数来通知其他线程退出</li>
<li><code>join</code>: 线程数组加入到协调器中,并等待其全部结束</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">threadFunc</span><span class="params">(coord, work_id)</span>:</span></span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">not</span> coord.should_stop():</span><br><span class="line">        <span class="comment"># 随机停止</span></span><br><span class="line">        <span class="keyword">if</span> np.random.rand() &lt; <span class="number">0.1</span>:</span><br><span class="line">            print(<span class="string">"Stopping from id:&#123;0&#125;\n"</span>.format(work_id))</span><br><span class="line">            coord.request_stop()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">"Working from id:&#123;0&#125;\n"</span>.format(work_id))</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    coord = tf.train.Coordinator()</span><br><span class="line">    threads = [threading.Thread(target=threadFunc, args=(coord, i)) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">5</span>)]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> t_thread <span class="keyword">in</span> threads:</span><br><span class="line">        t_thread.start()</span><br><span class="line">    </span><br><span class="line">    coord.join(threads)</span><br></pre></td></tr></table></figure>
<p><code>tf.QueueRunner</code> 主要用于启动多个线程来操作同一个队列.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建队列</span></span><br><span class="line">queue = tf.FIFOQueue(<span class="number">100</span>, <span class="string">"float"</span>)</span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">enqueue params</span></span><br><span class="line"><span class="string">vals: A tensor, a list or tuple of tensors, or a dictionary containing</span></span><br><span class="line"><span class="string">    the values to enqueue.</span></span><br><span class="line"><span class="string">tf.random_norma params</span></span><br><span class="line"><span class="string">shape: A 1-D integer Tensor or Python array. The shape of the output tensor.</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="comment"># 创建队列操作</span></span><br><span class="line">enqueue_op = queue.enqueue([tf.random_normal([<span class="number">1</span>])])</span><br><span class="line"><span class="comment"># 创建线程来操作队列, 5个线程 都是 入队操作</span></span><br><span class="line">qr = tf.train.QueueRunner(queue, [enqueue_op] * <span class="number">5</span>)</span><br><span class="line"><span class="comment"># qr 加入计算图上的指定集合, 没有指定则加入默认 tf.GraphKeys.QUEUE_RUNNERS</span></span><br><span class="line">tf.train.add_queue_runner(qr)</span><br><span class="line"><span class="comment"># 定义出队操作</span></span><br><span class="line">dequeue_op = queue.dequeue()</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    <span class="comment"># 创建协调器, 来协同启动的线程</span></span><br><span class="line">    coord = tf.train.Coordinator()</span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    使用 tf.train.QueueRunner 时, 需要明确调用 tf.train.start_queue_runners 来启用所有线程</span></span><br><span class="line"><span class="string">    否则, 程序没有运行入队操作, 直接调用出队操作会一直等待入队</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    tf.train.start_queue_runners 默认启动默认集合中的所有 QueueRunner , 即tf.GraphKeys.QUEUE_RUNNERS集合</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    threads = tf.train.start_queue_runners(sess=sess, coord=coord)</span><br><span class="line">    <span class="comment"># 获取队列中的取值</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">        print(sess.run(dequeue_op)[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">    coord.request_stop()</span><br><span class="line">    coord.join(threads)</span><br></pre></td></tr></table></figure>
<h2 id="输入文件队列"><a class="markdownIt-Anchor" href="#输入文件队列"></a> 输入文件队列</h2>
<ul>
<li><code>tf.train.match_filenames_once</code>: 获取符合正则表达式的所有文件</li>
<li><code>tf.train.string_input_producer</code>: 可管理上个函数生成文件. 是用初始化时提供的文件列表创建一个输入队列, 通过设置<code>shuffle</code>参数来打乱顺序, 打乱顺序会运行在一个单独的线程上, 不影响读取文件的速度.</li>
</ul>
<p><code>string_input_producer</code> 读取流程: 调用文件读取函数-&gt;判断是否有打开的文件可读-&gt;有则读,没有或已读完则出队一个文件并读取.<br>
当队列所有数据都读完后会重新初始化, 即全部文件重新加入队列, <code>num_epochs</code> 限制了重复使用次数</p>
<p><code>string_input_producer</code> 中的输入队列可以被多个线程读取, 且其中文件会被均匀分给不同的线程.</p>
<h4 id="模拟生成数据文件"><a class="markdownIt-Anchor" href="#模拟生成数据文件"></a> 模拟生成数据文件</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">convert_to_feature</span><span class="params">(values: list)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> tf.train.Feature(int64_list=tf.train.Int64List(value=values))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">genTFRecord</span><span class="params">()</span>:</span></span><br><span class="line">    num_shards = <span class="number">2</span></span><br><span class="line">    instane_per_shard = <span class="number">10</span></span><br><span class="line">    cur_path = os.getcwd() + <span class="string">"/"</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(num_shards):</span><br><span class="line">        filename = cur_path + <span class="string">"data.tfrecord-%.5d-of-%.5d"</span> % (i, num_shards)</span><br><span class="line">        print(<span class="string">"To File:"</span>, filename)</span><br><span class="line">        writer = tf.python_io.TFRecordWriter(filename)</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(instane_per_shard):</span><br><span class="line">            name = <span class="string">"Rand data-%d"</span> % (j)</span><br><span class="line">            features = tf.train.Features(feature=&#123;</span><br><span class="line">                <span class="string">'name'</span>: tf.train.Feature(bytes_list=tf.train.BytesList(value=[name.encode()])),</span><br><span class="line">                <span class="string">'values'</span>: convert_to_feature(list(np.random.randint(<span class="number">50</span>, <span class="number">100</span>, <span class="number">1</span>) <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>)))</span><br><span class="line">            &#125;)</span><br><span class="line">            example: tf.train.Example = tf.train.Example(features=features)</span><br><span class="line">            writer.write(example.SerializeToString())</span><br><span class="line">        writer.close()</span><br></pre></td></tr></table></figure>
<h4 id="使用文件生成器来加载文件"><a class="markdownIt-Anchor" href="#使用文件生成器来加载文件"></a> 使用文件生成器来加载文件</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">inputProducerDemo</span><span class="params">()</span>:</span></span><br><span class="line">    cur_path = os.getcwd() + <span class="string">"/"</span></span><br><span class="line">    <span class="comment"># 正则匹配文件名</span></span><br><span class="line">    ss = cur_path + <span class="string">"data.tfrecord-*"</span></span><br><span class="line">    print(<span class="string">"ss="</span>, ss)</span><br><span class="line"></span><br><span class="line">    files = tf.train.match_filenames_once(ss)</span><br><span class="line">    <span class="comment"># 创建输入队列</span></span><br><span class="line">    filename_queue = tf.train.string_input_producer(files, shuffle=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line">    reader = tf.TFRecordReader()</span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">      A tuple of Tensors (key, value).</span></span><br><span class="line"><span class="string">      key: A string scalar Tensor.</span></span><br><span class="line"><span class="string">      value: A string scalar Tensor.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    _, serialized_example = reader.read(filename_queue)</span><br><span class="line">    features = tf.parse_single_example(serialized_example,</span><br><span class="line">                                       features=&#123;</span><br><span class="line">                                           <span class="string">'name'</span>: tf.FixedLenFeature([], tf.string),</span><br><span class="line">                                           <span class="string">'values'</span>: tf.FixedLenFeature([<span class="number">10</span>], tf.int64)</span><br><span class="line">                                       &#125;)</span><br><span class="line"></span><br><span class="line">    p1 = features[<span class="string">'name'</span>]</span><br><span class="line">    p2 = features[<span class="string">'values'</span>]</span><br><span class="line">    <span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">        tf.local_variables_initializer().run()</span><br><span class="line">        print(sess.run(files))</span><br><span class="line"></span><br><span class="line">        coord = tf.train.Coordinator()</span><br><span class="line">        threads = tf.train.start_queue_runners(sess=sess, coord=coord)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">6</span>):</span><br><span class="line">            print(sess.run([p1, p2]))</span><br><span class="line"></span><br><span class="line">        coord.request_stop()</span><br><span class="line">        coord.join(threads)</span><br><span class="line"></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    [b'Rand data-0', array([94, 91, 85, 73, 73, 62, 93, 68, 92, 53])]</span></span><br><span class="line"><span class="string">    [b'Rand data-1', array([81, 70, 83, 61, 61, 85, 84, 56, 88, 71])]</span></span><br><span class="line"><span class="string">    [b'Rand data-2', array([81, 55, 56, 88, 84, 95, 73, 81, 66, 71])]</span></span><br><span class="line"><span class="string">    [b'Rand data-3', array([63, 96, 73, 52, 54, 92, 54, 67, 87, 61])]</span></span><br><span class="line"><span class="string">    [b'Rand data-4', array([71, 84, 78, 62, 92, 70, 86, 54, 79, 82])]</span></span><br><span class="line"><span class="string">    [b'Rand data-5', array([70, 86, 80, 93, 94, 56, 55, 57, 88, 67])]</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<h2 id="组合训练数据"><a class="markdownIt-Anchor" href="#组合训练数据"></a> 组合训练数据</h2>
<p>上个 Demo 一次读取一个样例数据, 使用 <code>tf.train.batch</code> 和 <code>tf.train.shuffle_batch</code> 一次读取一个 batch 的数据, 后者随机读取.</p>
<p>设置<code>num_threads</code>参数,可以指定多个线程同时执行入队操作. &gt;1 时,多线程会同时读取一个文件中的不同样例并行进行处理.</p>
<p><code>tf.train.shuffle_batch_join</code>, 会从输入文件队列中获取不同文件分配给不同线程. 其中, 如果线程过多会导致过多硬盘寻址,从而降低效率.</p>
<p>主要体现逻辑的伪代码如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">example, label = features[<span class="string">'values'</span>], features[<span class="string">'label'</span>]</span><br><span class="line">batch_size = <span class="number">3</span></span><br><span class="line">capacity = <span class="number">1000</span> + batch_size * <span class="number">3</span></span><br><span class="line">example_batch, label_batch = tf.train.batch([example, label], batch_size=batch_size, capacity=capacity)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> range(<span class="number">2</span>):</span><br><span class="line">      cur_example_batch, cur_label_batch = sess.run([example_batch, label_batch])</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>
<p>另外,自己目前使用的 <code>pandas</code>和<code>numpy</code> 也可以作为输入数据框架.</p>
</div><iframe src="/donate/?AliPayQR=/img/glAlipay.JPG&amp;WeChatQR=/img/glWechatPay.JPG&amp;GitHub=null&amp;BTCQR=null&amp;BTCKEY=null&amp;PayPal=null" style="overflow-x:hidden; overflow-y:hidden; border:0xp none #fff; min-height:240px; width:100%;" frameborder="0" scrolling="no"></iframe><div class="tags"><a href="/tags/TensorFlow/">TensorFlow</a></div><div class="post-nav"><a class="pre" href="/2018/hexosimg/">Hexo 配置图文方法</a><a class="next" href="/2018/tfln9/">TensorFlow学习笔记(9) - 图像处理数据</a></div><div id="container"></div><link rel="stylesheet" href="/css/default.css?v=0.0.0"><script src="/js/gitment.browser.js?v=0.0.0"></script><script>var gitment = new Gitment({
  owner: 'GrayLand119',
  repo: 'GrayLand119.github.io',
  oauth: {
    client_id: 'bb3e21016786a32e92ce',
    client_secret: 'fec0106c72a4aaaa8251129c27dd6d59ed34c3ed',
  },
})
gitment.render('container')
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://grayland119.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Xcode/">Xcode</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/OpenCV/" style="font-size: 15px;">OpenCV</a> <a href="/tags/Runtime/" style="font-size: 15px;">Runtime</a> <a href="/tags/iOS/" style="font-size: 15px;">iOS</a> <a href="/tags/Xcode/" style="font-size: 15px;">Xcode</a> <a href="/tags/lldb/" style="font-size: 15px;">lldb</a> <a href="/tags/ReactiveCocoa/" style="font-size: 15px;">ReactiveCocoa</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/Objc/" style="font-size: 15px;">Objc</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/iOS逆向/" style="font-size: 15px;">iOS逆向</a> <a href="/tags/iOS轮子/" style="font-size: 15px;">iOS轮子</a> <a href="/tags/TensorFlow/" style="font-size: 15px;">TensorFlow</a> <a href="/tags/iOS-TensorFlow-CoreML-Vision/" style="font-size: 15px;">iOS, TensorFlow, CoreML, Vision</a> <a href="/tags/Other/" style="font-size: 15px;">Other</a> <a href="/tags/iOS规范/" style="font-size: 15px;">iOS规范</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/zisbsyxtfm/">在 iOS 设备上运行 TensorFlow 中训练好的模型</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/hexosimg/">Hexo 配置图文方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/tfln10/">TensorFlow学习笔记(10) - 队列与多线程及输入数据框架</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/tfln9/">TensorFlow学习笔记(9) - 图像处理数据</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/tfln8/">TensorFlow学习笔记(8) - 迁移学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/tfln7/">TensorFlow学习笔记(7) - 经典CNN模型</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/tfln6/">TensorFlow学习笔记(6) - CNN</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/tfln5/">TensorFlow学习笔记(5) - 完善手写体识别</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/tfln4/">TensorFlow学习笔记(4) - 持久化原理及数据格式</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/tfln3/">TensorFlow学习笔记(3) - 模型持久化</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">GrayLand's blogs.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.css"><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div><!-- hexo-inject:begin --><!-- hexo-inject:end --></body></html>