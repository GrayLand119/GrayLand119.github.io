<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>TensorFlow学习笔记(4) - 持久化原理及数据格式 | GrayLand's blogs</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script><!-- hexo-inject:begin --><!-- hexo-inject:end -->var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = 'https://hm.baidu.com/hm.js?' + '23b02fe43688a2403eb3b2033320103d';
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();</script><!-- hexo-inject:begin --><!-- hexo-inject:end --></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">TensorFlow学习笔记(4) - 持久化原理及数据格式</h1><a id="logo" href="/.">GrayLand's blogs</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">TensorFlow学习笔记(4) - 持久化原理及数据格式</h1><div class="post-meta">Aug 20, 2018</div><div class="post-content"><!--# TensorFlow学习笔记(4) - 持久化原理及数据格式-->
<!-- hexo-inject:begin --><!-- hexo-inject:end --><p>上一节笔记中记录了调用 <code>saver.save()</code> 会生成三个文件.</p>
<p>知识点:</p>
<ul>
<li>TensorFlow 通过图的形式来表述计算, 其中所有的计算会被表达为计算图上的节点.</li>
<li><code>元图(MetaGraph)</code>记录计算图中节点的信息以及运行计算图中节点需要的<code>元数据</code></li>
<li><code>元图(MetaGraph)</code>是由<code>MetaGraphDef Protocol Buffer</code> 定义的</li>
<li><code>MetaGraphDef</code>默认保存为<code>.meta</code> 后缀的文件</li>
</ul>
<p><code>MetaGraphDef</code>类型定义:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">message MetaGraphDef &#123;</span><br><span class="line">  MetaInfoDef meta_info_def = <span class="number">1</span>;</span><br><span class="line">  GraphDef graphd_def = <span class="number">2</span>;</span><br><span class="line">  SaverDef saver_def = <span class="number">3</span>;</span><br><span class="line">  map&lt;string, CollectionDef&gt; collection_def = <span class="number">4</span>;</span><br><span class="line">  map&lt;string, SignatureDef&gt; signature_def = <span class="number">5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>默认保存的<code>.meta</code>文件是二进制形式保存的, <code>export_meta_graph</code>函数支持 JSON 格式导出.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ...</span></span><br><span class="line"><span class="comment"># 导出</span></span><br><span class="line">saver.export_meta_graph(<span class="string">"./.../YourModel.ckpt.meta.json"</span>, as_text=<span class="keyword">True</span>)</span><br></pre></td></tr></table></figure>
<p>以下是我的代码:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#...</span></span><br><span class="line">v1 = tf.Variable(tf.constant(<span class="number">1.0</span>, shape=[<span class="number">1</span>]), name=<span class="string">'v1'</span>)</span><br><span class="line">v2 = tf.Variable(tf.constant(<span class="number">1.0</span>, shape=[<span class="number">1</span>]), name=<span class="string">'v2'</span>)</span><br><span class="line">result = v1 + v2</span><br><span class="line"></span><br><span class="line">saver = tf.train.Saver()</span><br><span class="line">saver.export_meta_graph(<span class="string">'./SaveModels/Model4.ckpt.meta.json'</span>, as_text=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#以下是 json 文件的内容</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">meta_info_def &#123;</span></span><br><span class="line"><span class="string">  stripped_op_list &#123;</span></span><br><span class="line"><span class="string">    op &#123;</span></span><br><span class="line"><span class="string">      name: "Add"</span></span><br><span class="line"><span class="string">      input_arg &#123;</span></span><br><span class="line"><span class="string">        name: "x"</span></span><br><span class="line"><span class="string">        type_attr: "T"</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      input_arg &#123;</span></span><br><span class="line"><span class="string">        name: "y"</span></span><br><span class="line"><span class="string">        type_attr: "T"</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      output_arg &#123;</span></span><br><span class="line"><span class="string">        name: "z"</span></span><br><span class="line"><span class="string">        type_attr: "T"</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      attr &#123;</span></span><br><span class="line"><span class="string">        name: "T"</span></span><br><span class="line"><span class="string">        type: "type"</span></span><br><span class="line"><span class="string">        allowed_values &#123;</span></span><br><span class="line"><span class="string">          list &#123;</span></span><br><span class="line"><span class="string">            type: DT_BFLOAT16</span></span><br><span class="line"><span class="string">            type: DT_HALF</span></span><br><span class="line"><span class="string">            type: DT_FLOAT</span></span><br><span class="line"><span class="string">            type: DT_DOUBLE</span></span><br><span class="line"><span class="string">            type: DT_UINT8</span></span><br><span class="line"><span class="string">            type: DT_INT8</span></span><br><span class="line"><span class="string">            type: DT_INT16</span></span><br><span class="line"><span class="string">            type: DT_INT32</span></span><br><span class="line"><span class="string">            type: DT_INT64</span></span><br><span class="line"><span class="string">            type: DT_COMPLEX64</span></span><br><span class="line"><span class="string">            type: DT_COMPLEX128</span></span><br><span class="line"><span class="string">            type: DT_STRING</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    op &#123;</span></span><br><span class="line"><span class="string">      name: "Assign"</span></span><br><span class="line"><span class="string">      input_arg &#123;</span></span><br><span class="line"><span class="string">        name: "ref"</span></span><br><span class="line"><span class="string">        type_attr: "T"</span></span><br><span class="line"><span class="string">        is_ref: true</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      input_arg &#123;</span></span><br><span class="line"><span class="string">        name: "value"</span></span><br><span class="line"><span class="string">        type_attr: "T"</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      output_arg &#123;</span></span><br><span class="line"><span class="string">        name: "output_ref"</span></span><br><span class="line"><span class="string">        type_attr: "T"</span></span><br><span class="line"><span class="string">        is_ref: true</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      attr &#123;</span></span><br><span class="line"><span class="string">        name: "T"</span></span><br><span class="line"><span class="string">        type: "type"</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      attr &#123;</span></span><br><span class="line"><span class="string">        name: "validate_shape"</span></span><br><span class="line"><span class="string">        type: "bool"</span></span><br><span class="line"><span class="string">        default_value &#123;</span></span><br><span class="line"><span class="string">          b: true</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      attr &#123;</span></span><br><span class="line"><span class="string">        name: "use_locking"</span></span><br><span class="line"><span class="string">        type: "bool"</span></span><br><span class="line"><span class="string">        default_value &#123;</span></span><br><span class="line"><span class="string">          b: true</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      allows_uninitialized_input: true</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    op &#123;</span></span><br><span class="line"><span class="string">      name: "Const"</span></span><br><span class="line"><span class="string">      output_arg &#123;</span></span><br><span class="line"><span class="string">        name: "output"</span></span><br><span class="line"><span class="string">        type_attr: "dtype"</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      attr &#123;</span></span><br><span class="line"><span class="string">        name: "value"</span></span><br><span class="line"><span class="string">        type: "tensor"</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      attr &#123;</span></span><br><span class="line"><span class="string">        name: "dtype"</span></span><br><span class="line"><span class="string">        type: "type"</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    op &#123;</span></span><br><span class="line"><span class="string">      name: "Identity"</span></span><br><span class="line"><span class="string">      input_arg &#123;</span></span><br><span class="line"><span class="string">        name: "input"</span></span><br><span class="line"><span class="string">        type_attr: "T"</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      output_arg &#123;</span></span><br><span class="line"><span class="string">        name: "output"</span></span><br><span class="line"><span class="string">        type_attr: "T"</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      attr &#123;</span></span><br><span class="line"><span class="string">        name: "T"</span></span><br><span class="line"><span class="string">        type: "type"</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    op &#123;</span></span><br><span class="line"><span class="string">      name: "NoOp"</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    op &#123;</span></span><br><span class="line"><span class="string">      name: "RestoreV2"</span></span><br><span class="line"><span class="string">      input_arg &#123;</span></span><br><span class="line"><span class="string">        name: "prefix"</span></span><br><span class="line"><span class="string">        type: DT_STRING</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      input_arg &#123;</span></span><br><span class="line"><span class="string">        name: "tensor_names"</span></span><br><span class="line"><span class="string">        type: DT_STRING</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      input_arg &#123;</span></span><br><span class="line"><span class="string">        name: "shape_and_slices"</span></span><br><span class="line"><span class="string">        type: DT_STRING</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      output_arg &#123;</span></span><br><span class="line"><span class="string">        name: "tensors"</span></span><br><span class="line"><span class="string">        type_list_attr: "dtypes"</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      attr &#123;</span></span><br><span class="line"><span class="string">        name: "dtypes"</span></span><br><span class="line"><span class="string">        type: "list(type)"</span></span><br><span class="line"><span class="string">        has_minimum: true</span></span><br><span class="line"><span class="string">        minimum: 1</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      is_stateful: true</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    op &#123;</span></span><br><span class="line"><span class="string">      name: "SaveV2"</span></span><br><span class="line"><span class="string">      input_arg &#123;</span></span><br><span class="line"><span class="string">        name: "prefix"</span></span><br><span class="line"><span class="string">        type: DT_STRING</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      input_arg &#123;</span></span><br><span class="line"><span class="string">        name: "tensor_names"</span></span><br><span class="line"><span class="string">        type: DT_STRING</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      input_arg &#123;</span></span><br><span class="line"><span class="string">        name: "shape_and_slices"</span></span><br><span class="line"><span class="string">        type: DT_STRING</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      input_arg &#123;</span></span><br><span class="line"><span class="string">        name: "tensors"</span></span><br><span class="line"><span class="string">        type_list_attr: "dtypes"</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      attr &#123;</span></span><br><span class="line"><span class="string">        name: "dtypes"</span></span><br><span class="line"><span class="string">        type: "list(type)"</span></span><br><span class="line"><span class="string">        has_minimum: true</span></span><br><span class="line"><span class="string">        minimum: 1</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      is_stateful: true</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    op &#123;</span></span><br><span class="line"><span class="string">      name: "VariableV2"</span></span><br><span class="line"><span class="string">      output_arg &#123;</span></span><br><span class="line"><span class="string">        name: "ref"</span></span><br><span class="line"><span class="string">        type_attr: "dtype"</span></span><br><span class="line"><span class="string">        is_ref: true</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      attr &#123;</span></span><br><span class="line"><span class="string">        name: "shape"</span></span><br><span class="line"><span class="string">        type: "shape"</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      attr &#123;</span></span><br><span class="line"><span class="string">        name: "dtype"</span></span><br><span class="line"><span class="string">        type: "type"</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      attr &#123;</span></span><br><span class="line"><span class="string">        name: "container"</span></span><br><span class="line"><span class="string">        type: "string"</span></span><br><span class="line"><span class="string">        default_value &#123;</span></span><br><span class="line"><span class="string">          s: ""</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      attr &#123;</span></span><br><span class="line"><span class="string">        name: "shared_name"</span></span><br><span class="line"><span class="string">        type: "string"</span></span><br><span class="line"><span class="string">        default_value &#123;</span></span><br><span class="line"><span class="string">          s: ""</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      is_stateful: true</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  tensorflow_version: "1.9.0"</span></span><br><span class="line"><span class="string">  tensorflow_git_version: "v1.9.0-0-g25c197e023"</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">graph_def &#123;</span></span><br><span class="line"><span class="string">  node &#123;</span></span><br><span class="line"><span class="string">    name: "Const"</span></span><br><span class="line"><span class="string">    op: "Const"</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_output_shapes"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          shape &#123;</span></span><br><span class="line"><span class="string">            dim &#123;</span></span><br><span class="line"><span class="string">              size: 1</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "dtype"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        type: DT_FLOAT</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "value"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        tensor &#123;</span></span><br><span class="line"><span class="string">          dtype: DT_FLOAT</span></span><br><span class="line"><span class="string">          tensor_shape &#123;</span></span><br><span class="line"><span class="string">            dim &#123;</span></span><br><span class="line"><span class="string">              size: 1</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">          float_val: 1.0</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  node &#123;</span></span><br><span class="line"><span class="string">    name: "v1"</span></span><br><span class="line"><span class="string">    op: "VariableV2"</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_output_shapes"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          shape &#123;</span></span><br><span class="line"><span class="string">            dim &#123;</span></span><br><span class="line"><span class="string">              size: 1</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "container"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        s: ""</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "dtype"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        type: DT_FLOAT</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "shape"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        shape &#123;</span></span><br><span class="line"><span class="string">          dim &#123;</span></span><br><span class="line"><span class="string">            size: 1</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "shared_name"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        s: ""</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  node &#123;</span></span><br><span class="line"><span class="string">    name: "v1/Assign"</span></span><br><span class="line"><span class="string">    op: "Assign"</span></span><br><span class="line"><span class="string">    input: "v1"</span></span><br><span class="line"><span class="string">    input: "Const"</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "T"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        type: DT_FLOAT</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_class"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          s: "loc:@v1"</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_output_shapes"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          shape &#123;</span></span><br><span class="line"><span class="string">            dim &#123;</span></span><br><span class="line"><span class="string">              size: 1</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "use_locking"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        b: true</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "validate_shape"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        b: true</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  node &#123;</span></span><br><span class="line"><span class="string">    name: "v1/read"</span></span><br><span class="line"><span class="string">    op: "Identity"</span></span><br><span class="line"><span class="string">    input: "v1"</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "T"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        type: DT_FLOAT</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_class"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          s: "loc:@v1"</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_output_shapes"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          shape &#123;</span></span><br><span class="line"><span class="string">            dim &#123;</span></span><br><span class="line"><span class="string">              size: 1</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  node &#123;</span></span><br><span class="line"><span class="string">    name: "Const_1"</span></span><br><span class="line"><span class="string">    op: "Const"</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_output_shapes"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          shape &#123;</span></span><br><span class="line"><span class="string">            dim &#123;</span></span><br><span class="line"><span class="string">              size: 1</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "dtype"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        type: DT_FLOAT</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "value"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        tensor &#123;</span></span><br><span class="line"><span class="string">          dtype: DT_FLOAT</span></span><br><span class="line"><span class="string">          tensor_shape &#123;</span></span><br><span class="line"><span class="string">            dim &#123;</span></span><br><span class="line"><span class="string">              size: 1</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">          float_val: 1.0</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  node &#123;</span></span><br><span class="line"><span class="string">    name: "v2"</span></span><br><span class="line"><span class="string">    op: "VariableV2"</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_output_shapes"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          shape &#123;</span></span><br><span class="line"><span class="string">            dim &#123;</span></span><br><span class="line"><span class="string">              size: 1</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "container"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        s: ""</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "dtype"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        type: DT_FLOAT</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "shape"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        shape &#123;</span></span><br><span class="line"><span class="string">          dim &#123;</span></span><br><span class="line"><span class="string">            size: 1</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "shared_name"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        s: ""</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  node &#123;</span></span><br><span class="line"><span class="string">    name: "v2/Assign"</span></span><br><span class="line"><span class="string">    op: "Assign"</span></span><br><span class="line"><span class="string">    input: "v2"</span></span><br><span class="line"><span class="string">    input: "Const_1"</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "T"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        type: DT_FLOAT</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_class"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          s: "loc:@v2"</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_output_shapes"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          shape &#123;</span></span><br><span class="line"><span class="string">            dim &#123;</span></span><br><span class="line"><span class="string">              size: 1</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "use_locking"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        b: true</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "validate_shape"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        b: true</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  node &#123;</span></span><br><span class="line"><span class="string">    name: "v2/read"</span></span><br><span class="line"><span class="string">    op: "Identity"</span></span><br><span class="line"><span class="string">    input: "v2"</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "T"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        type: DT_FLOAT</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_class"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          s: "loc:@v2"</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_output_shapes"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          shape &#123;</span></span><br><span class="line"><span class="string">            dim &#123;</span></span><br><span class="line"><span class="string">              size: 1</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  node &#123;</span></span><br><span class="line"><span class="string">    name: "add"</span></span><br><span class="line"><span class="string">    op: "Add"</span></span><br><span class="line"><span class="string">    input: "v1/read"</span></span><br><span class="line"><span class="string">    input: "v2/read"</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "T"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        type: DT_FLOAT</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_output_shapes"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          shape &#123;</span></span><br><span class="line"><span class="string">            dim &#123;</span></span><br><span class="line"><span class="string">              size: 1</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  node &#123;</span></span><br><span class="line"><span class="string">    name: "save/Const"</span></span><br><span class="line"><span class="string">    op: "Const"</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_output_shapes"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          shape &#123;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "dtype"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        type: DT_STRING</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "value"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        tensor &#123;</span></span><br><span class="line"><span class="string">          dtype: DT_STRING</span></span><br><span class="line"><span class="string">          tensor_shape &#123;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">          string_val: "model"</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  node &#123;</span></span><br><span class="line"><span class="string">    name: "save/SaveV2/tensor_names"</span></span><br><span class="line"><span class="string">    op: "Const"</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_output_shapes"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          shape &#123;</span></span><br><span class="line"><span class="string">            dim &#123;</span></span><br><span class="line"><span class="string">              size: 2</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "dtype"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        type: DT_STRING</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "value"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        tensor &#123;</span></span><br><span class="line"><span class="string">          dtype: DT_STRING</span></span><br><span class="line"><span class="string">          tensor_shape &#123;</span></span><br><span class="line"><span class="string">            dim &#123;</span></span><br><span class="line"><span class="string">              size: 2</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">          string_val: "v1"</span></span><br><span class="line"><span class="string">          string_val: "v2"</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  node &#123;</span></span><br><span class="line"><span class="string">    name: "save/SaveV2/shape_and_slices"</span></span><br><span class="line"><span class="string">    op: "Const"</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_output_shapes"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          shape &#123;</span></span><br><span class="line"><span class="string">            dim &#123;</span></span><br><span class="line"><span class="string">              size: 2</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "dtype"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        type: DT_STRING</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "value"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        tensor &#123;</span></span><br><span class="line"><span class="string">          dtype: DT_STRING</span></span><br><span class="line"><span class="string">          tensor_shape &#123;</span></span><br><span class="line"><span class="string">            dim &#123;</span></span><br><span class="line"><span class="string">              size: 2</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">          string_val: ""</span></span><br><span class="line"><span class="string">          string_val: ""</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  node &#123;</span></span><br><span class="line"><span class="string">    name: "save/SaveV2"</span></span><br><span class="line"><span class="string">    op: "SaveV2"</span></span><br><span class="line"><span class="string">    input: "save/Const"</span></span><br><span class="line"><span class="string">    input: "save/SaveV2/tensor_names"</span></span><br><span class="line"><span class="string">    input: "save/SaveV2/shape_and_slices"</span></span><br><span class="line"><span class="string">    input: "v1"</span></span><br><span class="line"><span class="string">    input: "v2"</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "dtypes"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          type: DT_FLOAT</span></span><br><span class="line"><span class="string">          type: DT_FLOAT</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  node &#123;</span></span><br><span class="line"><span class="string">    name: "save/control_dependency"</span></span><br><span class="line"><span class="string">    op: "Identity"</span></span><br><span class="line"><span class="string">    input: "save/Const"</span></span><br><span class="line"><span class="string">    input: "^save/SaveV2"</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "T"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        type: DT_STRING</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_class"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          s: "loc:@save/Const"</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_output_shapes"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          shape &#123;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  node &#123;</span></span><br><span class="line"><span class="string">    name: "save/RestoreV2/tensor_names"</span></span><br><span class="line"><span class="string">    op: "Const"</span></span><br><span class="line"><span class="string">    device: "/device:CPU:0"</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_output_shapes"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          shape &#123;</span></span><br><span class="line"><span class="string">            dim &#123;</span></span><br><span class="line"><span class="string">              size: 2</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "dtype"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        type: DT_STRING</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "value"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        tensor &#123;</span></span><br><span class="line"><span class="string">          dtype: DT_STRING</span></span><br><span class="line"><span class="string">          tensor_shape &#123;</span></span><br><span class="line"><span class="string">            dim &#123;</span></span><br><span class="line"><span class="string">              size: 2</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">          string_val: "v1"</span></span><br><span class="line"><span class="string">          string_val: "v2"</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  node &#123;</span></span><br><span class="line"><span class="string">    name: "save/RestoreV2/shape_and_slices"</span></span><br><span class="line"><span class="string">    op: "Const"</span></span><br><span class="line"><span class="string">    device: "/device:CPU:0"</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_output_shapes"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          shape &#123;</span></span><br><span class="line"><span class="string">            dim &#123;</span></span><br><span class="line"><span class="string">              size: 2</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "dtype"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        type: DT_STRING</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "value"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        tensor &#123;</span></span><br><span class="line"><span class="string">          dtype: DT_STRING</span></span><br><span class="line"><span class="string">          tensor_shape &#123;</span></span><br><span class="line"><span class="string">            dim &#123;</span></span><br><span class="line"><span class="string">              size: 2</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">          string_val: ""</span></span><br><span class="line"><span class="string">          string_val: ""</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  node &#123;</span></span><br><span class="line"><span class="string">    name: "save/RestoreV2"</span></span><br><span class="line"><span class="string">    op: "RestoreV2"</span></span><br><span class="line"><span class="string">    input: "save/Const"</span></span><br><span class="line"><span class="string">    input: "save/RestoreV2/tensor_names"</span></span><br><span class="line"><span class="string">    input: "save/RestoreV2/shape_and_slices"</span></span><br><span class="line"><span class="string">    device: "/device:CPU:0"</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_output_shapes"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          shape &#123;</span></span><br><span class="line"><span class="string">            unknown_rank: true</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">          shape &#123;</span></span><br><span class="line"><span class="string">            unknown_rank: true</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "dtypes"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          type: DT_FLOAT</span></span><br><span class="line"><span class="string">          type: DT_FLOAT</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  node &#123;</span></span><br><span class="line"><span class="string">    name: "save/Assign"</span></span><br><span class="line"><span class="string">    op: "Assign"</span></span><br><span class="line"><span class="string">    input: "v1"</span></span><br><span class="line"><span class="string">    input: "save/RestoreV2"</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "T"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        type: DT_FLOAT</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_class"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          s: "loc:@v1"</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_output_shapes"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          shape &#123;</span></span><br><span class="line"><span class="string">            dim &#123;</span></span><br><span class="line"><span class="string">              size: 1</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "use_locking"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        b: true</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "validate_shape"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        b: true</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  node &#123;</span></span><br><span class="line"><span class="string">    name: "save/Assign_1"</span></span><br><span class="line"><span class="string">    op: "Assign"</span></span><br><span class="line"><span class="string">    input: "v2"</span></span><br><span class="line"><span class="string">    input: "save/RestoreV2:1"</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "T"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        type: DT_FLOAT</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_class"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          s: "loc:@v2"</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "_output_shapes"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        list &#123;</span></span><br><span class="line"><span class="string">          shape &#123;</span></span><br><span class="line"><span class="string">            dim &#123;</span></span><br><span class="line"><span class="string">              size: 1</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "use_locking"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        b: true</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    attr &#123;</span></span><br><span class="line"><span class="string">      key: "validate_shape"</span></span><br><span class="line"><span class="string">      value &#123;</span></span><br><span class="line"><span class="string">        b: true</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  node &#123;</span></span><br><span class="line"><span class="string">    name: "save/restore_all"</span></span><br><span class="line"><span class="string">    op: "NoOp"</span></span><br><span class="line"><span class="string">    input: "^save/Assign"</span></span><br><span class="line"><span class="string">    input: "^save/Assign_1"</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  versions &#123;</span></span><br><span class="line"><span class="string">    producer: 26</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">saver_def &#123;</span></span><br><span class="line"><span class="string">  filename_tensor_name: "save/Const:0"</span></span><br><span class="line"><span class="string">  save_tensor_name: "save/control_dependency:0"</span></span><br><span class="line"><span class="string">  restore_op_name: "save/restore_all"</span></span><br><span class="line"><span class="string">  max_to_keep: 5</span></span><br><span class="line"><span class="string">  keep_checkpoint_every_n_hours: 10000.0</span></span><br><span class="line"><span class="string">  version: V2</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">collection_def &#123;</span></span><br><span class="line"><span class="string">  key: "trainable_variables"</span></span><br><span class="line"><span class="string">  value &#123;</span></span><br><span class="line"><span class="string">    bytes_list &#123;</span></span><br><span class="line"><span class="string">      value: "\n\004v1:0\022\tv1/Assign\032\tv1/read:02\007Const:08\001"</span></span><br><span class="line"><span class="string">      value: "\n\004v2:0\022\tv2/Assign\032\tv2/read:02\tConst_1:08\001"</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">collection_def &#123;</span></span><br><span class="line"><span class="string">  key: "variables"</span></span><br><span class="line"><span class="string">  value &#123;</span></span><br><span class="line"><span class="string">    bytes_list &#123;</span></span><br><span class="line"><span class="string">      value: "\n\004v1:0\022\tv1/Assign\032\tv1/read:02\007Const:08\001"</span></span><br><span class="line"><span class="string">      value: "\n\004v2:0\022\tv2/Assign\032\tv2/read:02\tConst_1:08\001"</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure>
<p>下面逐一讲解一下各个属性:</p>
<h3 id="1-1-meta-info-def-属性"><a href="#1-1-meta-info-def-属性" class="headerlink" title="1.1 meta_info_def 属性"></a>1.1 meta_info_def 属性</h3><p>定义如下:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">message MetaInfoDef &#123;</span><br><span class="line">  string meta_graph_version = <span class="number">1</span>;</span><br><span class="line">  OpList stripped_op_list = <span class="number">2</span>;</span><br><span class="line">  google.protobuf.Any any_info = <span class="number">3</span>;</span><br><span class="line">  repeated string tags = <span class="number">4</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>MetaInfoDef</code> 记录了计算图版本号<code>meta_graph_version</code>, 以及一些标签 <code>tags</code>.</p>
<p>如果没有在 saver 中指定, 除了<code>stripped_op_list</code> 都为空.</p>
<p><code>stripped_op_list</code> 保存的是 TensorFlow 中运算方法信息, 如果某运算方法在图中出现多次, 在<code>stripped_op_list</code>中也只出现一次.</p>
<p><code>stripped_op_list</code>的类型是<code>OpList</code>.</p>
<p>以下是<code>OpList</code>类型定义:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">message OpDef &#123;</span><br><span class="line">  <span class="comment"># 运算名, 也是唯一标识符, 通过运算名来引用不同运算</span></span><br><span class="line">  string name = <span class="number">1</span>;</span><br><span class="line">  <span class="comment"># 定义运算输入输出参数, 因为可以是多个,所以类型为 repeated</span></span><br><span class="line">  repeated ArgDef input_arg = <span class="number">2</span>;</span><br><span class="line">  repeated ArgDef output_arg = <span class="number">3</span>;</span><br><span class="line">  <span class="comment"># 运算参数信息</span></span><br><span class="line">  repeated AttrDef attr = <span class="number">4</span>;</span><br><span class="line">  <span class="comment"># 以上四个定义核心信息</span></span><br><span class="line">  </span><br><span class="line">  string summary = <span class="number">5</span>;</span><br><span class="line">  string description = <span class="number">6</span>;</span><br><span class="line">  OpDeprecation deprecation = <span class="number">8</span>;</span><br><span class="line">  </span><br><span class="line">  bool is_comutative = <span class="number">18</span>;</span><br><span class="line">  bool is_aggregate = <span class="number">16</span>;</span><br><span class="line">  bool is_stateful = <span class="number">17</span>;</span><br><span class="line">  bool allows_uninitialized_input = <span class="number">19</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>例如上面的例子, 有2个输入1个输出, attr指定了输入输出允许的参数类型 通过类型<code>T</code>关联.</p>
<h3 id="1-2-graph-def-属性"><a href="#1-2-graph-def-属性" class="headerlink" title="1.2 graph_def 属性"></a>1.2 graph_def 属性</h3><p><code>graph_def</code> 记录了图上节点信息.因为<code>meta_info_def</code>属性中记录了所有运算的具体信息, 所以<code>graph_def</code> 只关注运算的连接结构.</p>
<p>以下是 <code>graph_def</code>结构:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">message GraphDef &#123;</span><br><span class="line">  repeated NodeDef node = <span class="number">1</span>;</span><br><span class="line">  VersionDef versions = <span class="number">4</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其中, <code>versions</code>属性比较简单, 主要存储了版本号.</p>
<p>主要信息存在<code>node</code> 属性中, 它记录了计算图上所有节点信息. 以下是类型定义</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">message NodeDef &#123;</span><br><span class="line">  <span class="comment"># 属性名称, 唯一标识符</span></span><br><span class="line">  string name = <span class="number">1</span>;</span><br><span class="line">  <span class="comment"># 运算方法名, 对应 meta_info_def 中 op 的 name</span></span><br><span class="line">  string op = <span class="number">2</span>;</span><br><span class="line">  <span class="comment"># 详细说明见下文</span></span><br><span class="line">  repeated string input = <span class="number">3</span>;</span><br><span class="line">  <span class="comment"># 指定处理这个运算的设备, CPU or GPU, 本地 or 远程</span></span><br><span class="line">  <span class="comment"># device 为空时, 自动选择</span></span><br><span class="line">  string device = <span class="number">4</span>;</span><br><span class="line">  map&lt;string, AAttrValue&gt; attr = <span class="number">5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其中 <code>input</code> 是字符串列表, 形式为<code>node:scr_output</code>, 当<code>scr_output</code> 等于0时, 可以省略, 例如 <code>add:0</code>可以表示为<code>add</code>, <code>v1:0</code>表示<code>v1</code>的第一个输出, 也可标记为<code>v1</code>.</p>
<h3 id="1-3-saver-def-属性"><a href="#1-3-saver-def-属性" class="headerlink" title="1.3 saver_def 属性"></a>1.3 saver_def 属性</h3><p><code>saver_def</code>记录持久化模型时需要用的一些参数.如文件名/保存操作or加载操作的名称/保存频率/清理历史记录等…</p>
<p>主要结构 略.</p>
<p>关键字段:</p>
<ul>
<li><code>filename_tensor_name</code> 保存文件的张量名称, 如<code>save/Const:0</code>, 保存节点<code>save/Const</code> 的第一个输出</li>
<li><code>save_tensor_name</code> 持久化模型运算所对应的节点名称. 如<code>save/control_dependency:0</code>,对应<code>graph_def</code> 中给出的<code>save/control_dependency</code> 节点, 与其对应的是加载模型的运算, 此名称由<code>restore_op_name</code>给出.</li>
<li><code>max_to_keep</code> 保存清理之前保存模型的策略, 如<code>max_to_keep</code>=5时, 第6次调用会清理最早的那一次保存.</li>
<li><code>keep_checkpoint_every_n_hours</code>, 每 n 个小时过后可以在 <code>max_top_keep</code>的基础上多保存一个模型.</li>
</ul>
<h3 id="1-4-collection-def-属性"><a href="#1-4-collection-def-属性" class="headerlink" title="1.4 collection_def 属性"></a>1.4 collection_def 属性</h3><p><code>tf.Graph</code> 中可以维护不同的集合, 其底层实现是通过<code>collection_def</code>属性实现的.</p>
<p><code>collection_def</code>属性是一个从集合名称到集合内容的映射.</p>
<p>主要维护4类(NodeList/BytesList/Int64List/FloatList)不同集合, 和1类其他集合(AnyList).</p>
<ul>
<li><code>NodeList</code> 维护图上节点集合</li>
<li><code>BytesList</code>维护字符串或序列化后的<code>ProtocolBuffer</code>的集合, 如张量是通过<code>ProtocolBuffer</code> 表示的, 张量集合就是一个<code>ButesList</code>.</li>
<li><code>Int64List</code>维护整数集合</li>
<li><code>FloatList</code>维护实数集合</li>
</ul>
<p>以下是之前上面代码保存的<code>collection_def</code> 内容:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">collection_def &#123;</span><br><span class="line">  key: <span class="string">"trainable_variables"</span></span><br><span class="line">  value &#123;</span><br><span class="line">    bytes_list &#123;</span><br><span class="line">      value: <span class="string">"\n\004v1:0\022\tv1/Assign\032\tv1/read:02\007Const:08\001"</span></span><br><span class="line">      value: <span class="string">"\n\004v2:0\022\tv2/Assign\032\tv2/read:02\tConst_1:08\001"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">collection_def &#123;</span><br><span class="line">  key: <span class="string">"variables"</span></span><br><span class="line">  value &#123;</span><br><span class="line">    bytes_list &#123;</span><br><span class="line">      value: <span class="string">"\n\004v1:0\022\tv1/Assign\032\tv1/read:02\007Const:08\001"</span></span><br><span class="line">      value: <span class="string">"\n\004v2:0\022\tv2/Assign\032\tv2/read:02\tConst_1:08\001"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可见这里维护了2个集合, 一个是<code>trainable_variables</code> 一个是 <code>variables</code>, 这两个元素是一样 的, 都是变量 v1 和 v2. 它们是系统自动维护的.</p>
<h3 id="1-5-checkpoint-文件"><a href="#1-5-checkpoint-文件" class="headerlink" title="1.5 checkpoint 文件"></a>1.5 checkpoint 文件</h3><p><code>checkpoint</code>文件名是固定的, 系统自动生成和维护.</p>
<p>其内容维护了<code>tf.train.Saver</code> 类持久化的所有模型文件的文件名. 当某个模型被删除时,这个模型对应的文件名也会从<code>checkpoint</code> 中删除</p>
<p>其中属性<code>model_checkpoint_path</code>保存最新的模型文件名.</p>
<p><code>all_model_checkpoint_paths</code>保存还没有被删除的所有模型文件名.</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>本次主要学习了<code>*.ckpt.meta</code> 文件的内容和结构. 其主要保存计算图中信息/操作/结构.对象是<code>MetaGraphDef</code>.其属性主要有:</p>
<ul>
<li><code>meta_info_def</code>属性保存所有用到运算方法信息和计算图版本/用户自定义标签</li>
<li><code>graph_def</code>属性记录计算图上节点的连接结构信息</li>
<li><code>saver_def</code>记录持久化模型时用到的参数</li>
<li><code>collection_def</code>记录集合名称到集合内容的映射</li>
</ul>
<p><code>*.ckpt</code>主要保存了变量的值, <code>tf.train.NewCheckpointReader</code>类可以查看<code>*.ckpt</code> 文件中保存的变量信息.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#...</span></span><br><span class="line"><span class="comment"># 读取所有变量</span></span><br><span class="line">reader = tf.train.NewCheckpointReader(<span class="string">"./SaveModels/model1.ckpt"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 变量列表, 是一个字典列表 key:变量名, value:变量维度</span></span><br><span class="line">all_variables = reader.get_variable_to_shape_map()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取变量 v1 的取值</span></span><br><span class="line">print(reader.get_tensor(<span class="string">"v1"</span>))</span><br></pre></td></tr></table></figure>
</div><iframe src="/donate/?AliPayQR=/img/glAlipay.JPG&amp;WeChatQR=/img/glWechatPay.JPG&amp;GitHub=null&amp;BTCQR=null&amp;BTCKEY=null&amp;PayPal=null" style="overflow-x:hidden; overflow-y:hidden; border:0xp none #fff; min-height:240px; width:100%;" frameborder="0" scrolling="no"></iframe><div class="tags"><a href="/tags/TensorFlow/">TensorFlow</a></div><div class="post-nav"><a class="pre" href="/2018/tfln5/">TensorFlow学习笔记(5) - 完善手写体识别</a><a class="next" href="/2018/tfln3/">TensorFlow学习笔记(3) - 模型持久化</a></div><div id="container"></div><link rel="stylesheet" href="/css/default.css?v=0.0.0"><script src="/js/gitment.browser.js?v=0.0.0"></script><script>var gitment = new Gitment({
  owner: 'GrayLand119',
  repo: 'GrayLand119.github.io',
  oauth: {
    client_id: 'bb3e21016786a32e92ce',
    client_secret: 'fec0106c72a4aaaa8251129c27dd6d59ed34c3ed',
  },
})
gitment.render('container')
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://grayland119.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Xcode/">Xcode</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/OpenCV/" style="font-size: 15px;">OpenCV</a> <a href="/tags/Runtime/" style="font-size: 15px;">Runtime</a> <a href="/tags/iOS/" style="font-size: 15px;">iOS</a> <a href="/tags/Xcode/" style="font-size: 15px;">Xcode</a> <a href="/tags/lldb/" style="font-size: 15px;">lldb</a> <a href="/tags/ReactiveCocoa/" style="font-size: 15px;">ReactiveCocoa</a> <a href="/tags/Objc/" style="font-size: 15px;">Objc</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/iOS逆向/" style="font-size: 15px;">iOS逆向</a> <a href="/tags/iOS轮子/" style="font-size: 15px;">iOS轮子</a> <a href="/tags/TensorFlow/" style="font-size: 15px;">TensorFlow</a> <a href="/tags/iOS规范/" style="font-size: 15px;">iOS规范</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/tfln5/">TensorFlow学习笔记(5) - 完善手写体识别</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/tfln4/">TensorFlow学习笔记(4) - 持久化原理及数据格式</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/tfln3/">TensorFlow学习笔记(3) - 模型持久化</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/tfln2/">TensorFlow 学习笔记(2)-手写体识别</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/tfln1/">TensorFlow 学习笔记(1)-基础相关</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/iosclrs/">iOS崩溃日志符号还原</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/prufagp/">Python requests 上传文件, 并获取上传进度</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/p3note/">Python 3.6 学习笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/iOSCNote/">iOS使用dumpdecrypted砸壳笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/p2t3note/">Python 2.x to 3.6.1 新特性学习笔记</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">GrayLand's blogs.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.css"><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" async></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div><!-- hexo-inject:begin --><!-- hexo-inject:end --></body></html>